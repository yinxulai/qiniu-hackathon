# 产品文档

## 产品定位

一个可以通过文字和语音来控制操作电脑的智能工具，支持结合多种能力交叉执行复杂任务。

## 应用场景

### 目标用户

- **残障人士**：需要语音控制电脑的用户群体
- **高效工作者**：处理复杂文件和地理信息任务的专业人士
- **普通用户**：希望通过语音简化电脑操作的日常用户

### 典型场景

#### 🗺️ 出行与位置管理
- 语音查询地址和路线规划
- 整理带地理位置信息的文件和照片
- 商务出差行程安排

#### 📂 文件智能整理
- 按时间、地点自动分类照片
- 工作文档按项目归档管理
- 基于内容的智能文件检索

#### 🔗 复合任务执行
- 跨多个应用程序的联动操作
- 基于语音的多步骤任务编排
- 上下文相关的任务链执行

### 应用示例

**基础操作**：
- "帮我搜索上海虹桥站地址"
- "整理桌面照片，按拍摄地点分组并重命名"

**复合任务**：
- "规划上海虹桥站到任一照片拍摄地的路线"
- "搜索10天内访问的餐厅，规划美食串联路线"


## 核心能力

### 🧠 AI智能引擎

- **语义理解**：自然语言指令解析和意图识别
- **上下文感知**：任务间关联分析和状态记忆
- **智能决策**：任务分解、路径规划和执行策略优化

### 🔌 MCP组件化架构  

- **模块化设计**：基于MCP协议的插件式能力扩展
- **动态加载**：运行时组件注册和热更新支持
- **生态开放**：第三方MCP组件快速集成

### 🎙️ 多模态交互

- **语音引擎**：实时语音转文字和自然语音合成
- **交互界面**：任务可视化和进度实时反馈
- **控制机制**：语音、文字双通道指令输入

### 🔄 任务编排引擎

- **任务分解**：复杂指令的步骤化拆解
- **执行调度**：跨应用程序的协调执行
- **状态管理**：任务进度跟踪和异常处理

### 模型选型

todo

- 要支持内容识别和定位

### MCP 选择

- [浏览器] @playwright/mcp
- [桌面控制](https://github.com/NakaokaRei/swift-mcp-gui)

## 功能使用

### 使用流程

1. 唤醒 NAME
2. 文字或语音输入指令
3. 查看执行结果

### 交互流程设计

#### 1. 语音唤醒 NAME

- **唤醒成功**：展示对话界面，NAME 头像出现并语音提示"在呢"
- **唤醒失败**：界面保持原状，无任何反应

#### 2. 指令输入

支持两种输入方式：

- **文字输入**：在对话框中输入文字，按回车发送指令
- **语音输入**：点击语音按钮后开始录音
  - 实时语音转文字显示在输入框中
  - 语音停顿超过 5 秒自动结束并发送指令
  - 可通过"取消"指令或点击终止按钮中断录音

#### 3. 任务执行与显示

接收指令后，系统在「任务分解面板」中展示任务执行过程：

**任务概览区域**：

- 任务标题：简要概括任务目标
- 任务状态：🟡 进行中 / 🔴 已终止 / ✅ 已完成
- 任务描述：详细说明执行要点和预期结果

**执行步骤区域**：

- 步骤描述：显示序列和各个执行步骤的简述
- 步骤状态：进行中的显示为序列号/ 已完成的打勾标记

#### 4. 任务控制

在任务执行过程中可以进行以下操作：

**终止任务**：

- 语音或文字输入"终止"指令
- 当前任务立即停止，状态变更为「已终止」

**追加指令**：

根据当前任务状态有不同的处理方式：

- **进行中任务**：未执行步骤置灰，插入新的执行步骤
- **已完成任务**：任务状态重新变为「进行中」，添加新的执行步骤
- **已终止任务**：不支持追加，需重新发起新任务

#### 5. 任务与指令类型识别

**子任务判断标准**：

- 使用延续性词汇：「然后」「接着」「再」「另外」
- 明确的补充意图：「补充一下」「追加」「还需要」
- 基于当前任务结果的进一步操作

**新任务判断标准**：

- 使用新任务标识词：「重新」「新建」「开始新的」
- 明确表示与当前任务无关的独立需求

**智能识别机制**：

- 系统自动分析指令语义和上下文关联度
- 不确定时提示用户确认：「这是要追加到当前任务还是开始新任务？」 //对话？可以先没有

#### 6. 历史记录管理

- 「已终止」或「已完成」的任务自动归档到历史记录
- 历史记录显示：任务标题、完成时间、子任务数量
- 支持查看和恢复历史任务

#### 7. NAME 其他状态

- **任务完成展示结果时**：NAME 缩略为小图标，节省界面空间
- **接收"关闭"指令**：NAME 进入休眠状态，所有进行中任务自动终止
